<html>

<body>
    <script type="module">
        import { personalInformation } from "./personalInformation.js"
        import { educationExperience } from "./educationExperience.js"
        import { readAsStringAsync } from "./fileReader.js"
        import { split, removeAnnotation, findPersonalInformation } from "./mdSpliter.js"
        import { findTitle } from "./baseMatcher.js"
        let str = await readAsStringAsync("./README.md")
        str = removeAnnotation(str)

        window.document.body.appendChild(
            personalInformation.generate(
                personalInformation.parse(
                    findPersonalInformation(str)[0]
                )
            )
        )

        str = split(str)

        for (let item of str) {
            let title = findTitle(item)
            switch (title) {
                case "教育经历":
                    window.document.body.appendChild(
                        educationExperience.generate(
                            educationExperience.parse(
                                item
                            )
                        )
                    )
                    break;
            }
        }

    </script>
</body>

</html>